<div class="profile-container">
  <div *ngIf="isLoading" class="loading">Loading user data...</div>
  
  <div *ngIf="error" class="error-alert">
    {{ error }}
  </div>

  <div *ngIf="user && !isLoading" class="user-profile">
    <h2>{{ isCurrentUser ? 'My Profile' : 'User Profile' }}</h2>
    
    <div class="profile-info">
      <!-- Vos champs existants restent les mÃªmes -->
      <div class="info-row">
        <span class="label">Username:</span>
        <span class="value">{{ user.username }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">Email:</span>
        <span class="value">{{ user.email }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">Phone Number:</span>
        <span class="value">{{ user.phoneNumber || 'Not provided' }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">Address:</span>
        <span class="value">{{ user.address || 'Not provided' }}</span>
      </div>
      
      <div class="info-row">
        <span class="label">Roles:</span>
        <span class="value">{{ getUserRoles() }}</span>
      </div>
    </div>
  </div>

  <div class="action-buttons">
      <a *ngIf="isCurrentUser" [routerLink]="['/front/profile']" class="btn btn-primary">
          Edit Profile
      </a>
    </div>
</div>

<h2 class="section-title mt-5">ğŸ‰ Events I'm Participating In</h2>

<div *ngIf="myEvents.length == 0" class="empty-state">
  <p class="text-muted">You haven't participated in any events yet.</p>
</div>

<div class="event-list">
  <div *ngFor="let event of myEvents" class="event-card card">
    <div class="event-image-container">
      <img [src]="event.imageUrl || 'assets/default-event.jpg'" alt="Event image" class="event-image card-img-top">
    </div>
    <div class="event-details card-body">
      <h3 class="event-title card-title">{{ event.title }}</h3>
      <p class="card-text">{{ event.description }}</p>
      <span class="event-location">ğŸ“ {{ event.location }}</span>
    </div>
    <div class="mini-map mt-3 rounded shadow-sm" #mapContainer style="height: 250px;"></div>
  </div>
</div>

<!-- Recommended Events Section -->
<h2 class="section-title mt-5">ğŸ‰ Recommended Events</h2>

<div class="recommended-events-section" *ngIf="recommendedEvents.length > 0">
  <div class="events-grid">
    <div *ngFor="let event of recommendedEvents" class="event-card card">
      <div class="event-header card-header">
        <h3 class="card-title">{{ event.title }}</h3>
        <span class="event-theme badge bg-primary">{{ event.typetheme }}</span>
      </div>
      <div class="event-body card-body">
        <p class="card-text">{{ event.description }}</p>
        <div class="event-details">
          <div class="detail">
            <i class="fas fa-map-marker-alt"></i>
            <span>{{ event.location }}</span>
          </div>
          <div class="detail">
            <i class="far fa-calendar-alt"></i>
            <span>{{ event.startTime | date:'medium' }}</span>
          </div>
        </div>
      </div>
      <div class="event-footer card-footer bg-transparent">
        <a routerLink="/front/service" class="btn btn-primary me-2">View Event</a>      </div>
    </div>
  </div>
</div>

